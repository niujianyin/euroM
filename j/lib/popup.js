!function(e){function n(){var e=navigator.userAgent.toLowerCase(),n=/android|iphone|ipad|ipod|windows phone|symbianos|nokia|bb/,t=/linux|windows|mac|sunos|solaris/,o=n.exec(e)||t.exec(e);return null===o?"other":o[0]}function t(){var e=navigator.userAgent.toLowerCase(),n=/(UCBrowser|SogouMobileBrowser|MicroMessenger|baidubrowser)\/(.*?)(?:\s{1}|$)/i,t=/(MQQBrowser)\/(.*?)(?:\s{1}|$)/i,o=/(Chrome)\/(.*?)(?:\s{1}|$)/i,i=/(Safari)\/(.*?)(?:\s{1}|$)/i;return n.exec(e)||t.exec(e)||o.exec(e)||i.exec(e)}var o={name:"Utils",version:1.1};o.strLen=function(e){return e.replace(/[^\x00-\xff]/g,"**").length},o.css3Prop=function(){function e(e){return t===!1?!1:""===t?e:t+e.charAt(0).toUpperCase()+e.substr(1)}var n=document.createElement("div").style,t=function(){for(var e,t=["t","webkitT","MozT","msT","OT"],o=0,i=t.length;i>o;o++)if(e=t[o]+"ransform",e in n)return t[o].substr(0,t[o].length-1);return!1}();return{support:"boolean"!=typeof t,vendor:t,cssVendor:t?"-"+t.toLowerCase()+"-":"",transform:e("transform"),transition:e("transition"),transitionProperty:e("transitionProperty"),transitionDuration:e("transitionDuration"),transformOrigin:e("transformOrigin"),transitionTimingFunction:e("transitionTimingFunction"),transitionDelay:e("transitionDelay")}}(),o.eventsProp=function(){function e(){var e,n=document.createElement("fakeelement"),t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"};for(e in t)if(void 0!==n.style[e])return t[e];return!1}function n(){var e,n=document.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in t)if(void 0!==n.style[e])return t[e];return!1}return{animationEnd:e(),transitionEnd:n()}}();var i=o.eventsProp.animationEnd;return o.addAnimation=function(n,t,o){var s=n[0];"true"===s.animationLock&&s.animationFn&&s.animationFn.call(s),s.animationCb=o,s.animationLock="true",s.animationFn=function(){e(this).removeClass("animated animated-"+t).off(i,arguments.callee),this.animationLock="false",this.animationCb&&this.animationCb(e(this))},n.addClass("animated animated-"+t).on(i,s.animationFn)},o.formatTime=function(e,n){e=+e;var t,i,s,a;return n?(t=Date.now(),i=t-e,0>i?(a=new Date(e),s=o.completeZero(a.getMonth()+1)+"-"+o.completeZero(a.getDate())+" "+o.completeZero(a.getHours())+":"+o.completeZero(a.getMinutes())):6e4>i?s="一分钟内":36e5>i?s=(i/60/1e3|0)+"分钟前":864e5>i?s=(i/60/60/1e3|0)+"小时前":(a=new Date(e),s=o.completeZero(a.getMonth()+1)+"-"+o.completeZero(a.getDate())+" "+o.completeZero(a.getHours())+":"+o.completeZero(a.getMinutes()))):(a=new Date(e),s=a.getFullYear()+"-"+o.completeZero(a.getMonth()+1)+"-"+o.completeZero(a.getDate())+" "+o.completeZero(a.getHours())+":"+o.completeZero(a.getMinutes())+":"+o.completeZero(a.getSeconds())),s},o.completeZero=function(e,n){n=n||2,e+="";var t=e.length;return n>t&&(e=(Math.pow(10,n-t)+"").substring(1)+e),e},o.getClientInfo=function(){var e=t();return{os:n(),browser:e&&e[1],version:e&&e[2]}},window.TouTiao||(window.TouTiao={}),window.TouTiao.Utils=o,o}(Zepto),function(e){function n(e){this.mask=void 0!==e.mask?e.mask:!0,this.tapMaskToClose=e.tapMaskToClose||!1,this.enableAnimation=void 0!==e.enableAnimation?e.enableAnimation:!0,this.animationTypes=e.animationTypes,this._content=e.content,this._positionShift=e.positionShift,this.cbAfterOpen=e.cbAfterOpen,this.cbAfterClose=e.cbAfterClose,this.destroyAfterClose=void 0!==e.destroyAfterClose?e.destroyAfterClose:!0,this.prefixClass=e.prefixClass?e.prefixClass.replace(/^\s+|\s+$/g,"").split(" "):[],this.extendEvents=e.extendEvents||[],this._eventsCache={},this._nodes={},this.status=0,this._init()}var t={name:"Popup",version:2.1},o=TouTiao.Utils;return n.prototype={constructor:n,_init:function(){this._createDom(),this._bindEvents()},_createDom:function(){var n,t;this.mask&&(n=e('<div class="popup-mask">')),t=e('<div class="popup-container">').append(this._content),this._addPrefixClass(n,"popup-mask"),this._addPrefixClass(t,"popup-container"),this._nodes.mask=n,this._nodes.container=t,e("body").append(n,t),t.css(this._positionShift?this._positionShift:{marginLeft:-t.outerWidth()/2+"px",marginTop:-t.outerHeight()/2+"px"})},_bindEvents:function(){var e=this,n=e._nodes.container;e.mask&&e.tapMaskToClose&&(e.tapMaskToClose&&(e._eventsCache.tapMaskToClose=function(){e.close()},e._nodes.mask.on("tap",e._eventsCache.tapMaskToClose)),e._eventsCache.preventScrollOnMask=function(){return!1},e._nodes.mask.on("touchmove",e._eventsCache.preventScrollOnMask)),e.extendEvents.forEach(function(e){n.on(e.eventType||"tap",e.target,e.fn)})},_addPrefixClass:function(e,n){var t=n;return e?(this.prefixClass.forEach(function(e){t+=" "+e+n}),void(e[0].className=t)):!1},open:function(){function e(){n.status=1,n.cbAfterOpen&&n.cbAfterOpen()}var n=this;return n.status?!1:(n.status=1,n._nodes.mask&&n._nodes.mask.addClass("popup-open"),n._nodes.container.addClass("popup-open"),n.enableAnimation?o.addAnimation(n._nodes.container,n.animationTypes&&n.animationTypes.open||"bounceIn",function(){e()}):e(),!1)},close:function(e){function n(){t._nodes.container.removeClass("popup-open"),t._nodes.mask&&t._nodes.mask.removeClass("popup-open"),t.cbAfterClose&&t.cbAfterClose(),e||t.destroyAfterClose&&t.destroy()}var t=this;return t.status?(t.status=0,t.enableAnimation?o.addAnimation(t._nodes.container,t.animationTypes&&t.animationTypes.close||"bounceOut",function(){n()}):n(),!1):!1},destroy:function(){var e=this._nodes.container;this.mask&&(this._nodes.mask.off("touchmove",this._eventsCache.preventScrollOnMask),this.tapMaskToClose&&this._nodes.mask.off("tap",this._eventsCache.tapMaskToClose)),this.extendEvents.forEach(function(n){e.off(n.eventType||"tap",n.target,n.fn)}),this.extendEvents=this._eventsCache=null,this._nodes.mask&&this._nodes.mask.remove(),this._nodes.container.remove(),this._nodes=null}},t.alert=function(e,t,o){o=o||{};var i,s=o.okText||"确定",a='<div class="text">'+e+'</div><div class="btn-box"><div class="btn alert-ok">'+s+"</div></div>",r={content:a,tapMaskToClose:void 0!==o.tapMaskToClose?o.tapMaskToClose:!0,prefixClass:o.classname||"alert-",cbAfterOpen:o.cbAfterOpen,cbAfterClose:o.cbAfterClose,extendEvents:[{target:".alert-ok",fn:function(){t&&t(),i.close()}}]};return i=new n(r),i.open(),!1},t.confirm=function(e,t,o,i){i=i||{};var s,a=i.okText||"确定",r=i.cancelText||"取消",c='<div class="text">'+e+'</div><div class="btn-box"><div class="btn confirm-ok">'+a+'</div><div class="btn confirm-cancel">'+r+"</div></div>",l={content:c,tapMaskToClose:void 0!==i.tapMaskToClose?i.tapMaskToClose:!0,prefixClass:i.classname||"confirm-",cbAfterOpen:i.cbAfterOpen,cbAfterClose:i.cbAfterClose,extendEvents:[{target:".confirm-ok",fn:function(){t&&t(),s.close()}},{target:".confirm-cancel",fn:function(){o&&o(),s.close()}}]};return s=new n(l),s.open(),!1},t.notice=function(e,t,o){o=o||{};var i,s,a=""+("success"===t?'<div class="notice-success"></div>':"faile"==t?'<div class="notice-faile"></div>':"")+'<div class="notice-text">'+e+"</div>",r={content:a,mask:o.mask||!1,prefixClass:o.classname||"notice-",cbAfterOpen:o.cbAfterOpen,cbAfterClose:o.cbAfterClose};return i=new n(r),i.open(),s=setTimeout(function(){clearTimeout(s),i.close()},o.timeout||1e3),!1},t.pop=function(e){var t=new n(e);return t},window.TouTiao?window.TouTiao.Widgets=window.TouTiao.Widgets||{}:window.TouTiao={Widgets:{}},window.TouTiao.Widgets[t.name]=t,window.Popup=t,t}(Zepto);